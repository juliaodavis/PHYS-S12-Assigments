---
layout: post
title:  "09: Electronic Output Devices"
permalink: /09/
---

### **Lab Day 9**

Today the focus of lab was on electronic output devices. During lecture, we discussed many different types of output devices, such as motors, sollenoids, and RGB LED's. My idea was to turn on individual LED lights on a strip of LED's. First, I cut a piece of carboard that was the same length as the strip of eight LED's using an x-acto knife. I then put a piece of copper tape along the carboard and labeled with blue sharpie where each LED section was. 

<BR>
<img src="IMG_2143.JPG" alt="Copper on Cardboard">
<BR>
To make this a position sensor, I decided to varry the amount of layers of insulation tape. Because I was tight on time, I only put the insulationt tape on part of each LED section. Had I had more time, I would have put it over the entire section. The way that I did it was still effective, however, I just had to be mindful to only touch the black part. I put no layers of insulation tape on the first section, and then for every subsequent section, I added an additional layer of insulation tape, all the way up to seven layers on the eigth section. Then, I soldered a wire to one end of the copper. I also soldered a 1 Mega-Ohm resistor to the other end of the wire. I did this because I planned to use the touch sensor code 
<BR>
<img src="IMG_2146.JPG" alt="Copper on Cardboard with insulation tape and wire">
<BR>
Then, I soldered a wire to one end of the copper. I also soldered a 1 Mega-Ohm resistor to the other end of the wire. I did this because I planned to a similar setup to the [touch sensor setup](https://roberthart56.github.io/SCFAB/SC_lab/Sensors/CapacitiveTouch/index.html) we used in class last week. This setup requires that you put one end of the resistor into digital pin seven and the other end of the resistor along with the wire soldered to the copper pad into digital pin five. I modified the [touch sensor code](https://roberthart56.github.io/SCFAB/SC_lab/Sensors/CapacitiveTouch/CapacitiveTouch.txt) so that it would power an LED when the value on the sensor was greater than 1000. My code for that is shown below. 
<BR>
<pre>
<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><b><font color="#d35400">CapacitiveSensor</font></b><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>

<b><font color="#d35400">CapacitiveSensor</font></b> <font color="#000000">Sensor</font> <font color="#434f54">=</font> <b><font color="#d35400">CapacitiveSensor</font></b><font color="#000000">(</font><font color="#000000">7</font><font color="#434f54">,</font> <font color="#000000">5</font><font color="#000000">)</font><font color="#000000">;</font>

<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">9600</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#00979c">LED_BUILTIN</font><font color="#434f54">,</font> <font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font>
<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#00979c">long</font> <font color="#000000">sensorValue</font> <font color="#434f54">=</font> <font color="#000000">Sensor</font><font color="#434f54">.</font><font color="#d35400">capacitiveSensor</font><font color="#000000">(</font><font color="#000000">300</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">sensorValue</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">1000</font><font color="#000000">)</font>
 &nbsp;<font color="#000000">{</font> <font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#00979c">LED_BUILTIN</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">}</font>
 &nbsp;<font color="#5e6d03">else</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#00979c">LED_BUILTIN</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">}</font>
<font color="#000000">}</font>

</pre>
<BR>
For today's lab, I decided to use the basic touch sensor code to measure the relative sensor value on each of the eight sections on the copper and then use a series of condiional statements to power the individual LED's. The code I used is below. 
<BR>
<pre>
<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><b><font color="#d35400">CapacitiveSensor</font></b><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>

<b><font color="#d35400">CapacitiveSensor</font></b> <font color="#000000">Sensor</font> <font color="#434f54">=</font> <b><font color="#d35400">CapacitiveSensor</font></b><font color="#000000">(</font><font color="#000000">7</font><font color="#434f54">,</font><font color="#000000">5</font><font color="#000000">)</font><font color="#000000">;</font>



<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">9600</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#434f54">&#47;&#47; put your setup code here, to run once:</font>

<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#00979c">long</font> <font color="#000000">sensorValue</font> <font color="#434f54">=</font> <font color="#000000">Sensor</font><font color="#434f54">.</font><font color="#d35400">capacitiveSensor</font><font color="#000000">(</font><font color="#000000">300</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">sensorValue</font><font color="#000000">)</font><font color="#000000">;</font>
 <font color="#434f54">&#47;&#47; if (sensorValue &gt; 100) analogWrite(11,100);</font>
 &nbsp;<font color="#434f54">&#47;&#47;else analogWrite(11,0);</font>
 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>




<font color="#000000">}</font>


</pre>
<BR>
After uploading this code to my board with the 1 Mega-Ohm resistor and the wire attached to the copper strip, I put my finger on each section and used the serial monitor to get a general sense of what the range of values was for that particular section of the copper strip. The data that I found and implemented into my next code is shown below. 
<BR>
<img src="excel8.png" alt="Excel Data Table">
<BR>
Next, I used those values to create a series of conditional statements for my code. I attached my code below. 
<BR>

<pre>
<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><b><font color="#d35400">CapacitiveSensor</font></b><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>
<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><b><font color="#d35400">Adafruit_NeoPixel</font></b><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>


<font color="#5e6d03">#define</font> <font color="#000000">NUMPIXELS</font> <font color="#000000">8</font>
<b><font color="#d35400">Adafruit_NeoPixel</font></b> <font color="#000000">pixels</font><font color="#000000">(</font><font color="#000000">8</font><font color="#434f54">,</font> <font color="#000000">6</font><font color="#434f54">,</font> <font color="#d35400">NEO_GRB</font> <font color="#434f54">+</font> <font color="#d35400">NEO_KHZ800</font><font color="#000000">)</font><font color="#000000">;</font>

<b><font color="#d35400">CapacitiveSensor</font></b> <font color="#000000">Sensor</font> <font color="#434f54">=</font> <b><font color="#d35400">CapacitiveSensor</font></b><font color="#000000">(</font><font color="#000000">7</font><font color="#434f54">,</font> <font color="#000000">5</font><font color="#000000">)</font><font color="#000000">;</font>

<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">9600</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#00979c">LED_BUILTIN</font><font color="#434f54">,</font> <font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">clear</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#5e6d03">for</font> <font color="#000000">(</font><font color="#00979c">int</font> <font color="#000000">i</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font> <font color="#000000">i</font> <font color="#434f54">&lt;</font> <font color="#000000">NUMPIXELS</font><font color="#000000">;</font> <font color="#000000">i</font><font color="#434f54">++</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<font color="#00979c">long</font> <font color="#000000">sensorValue</font> <font color="#434f54">=</font> <font color="#000000">Sensor</font><font color="#434f54">.</font><font color="#d35400">capacitiveSensor</font><font color="#000000">(</font><font color="#000000">300</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">sensorValue</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;=</font> <font color="#000000">20</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">85</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">85</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">110</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">110</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">123</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">123</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">150</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">150</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">200</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">200</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">240</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">240</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">320</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">sensorValue</font> <font color="#434f54">&gt;</font> <font color="#000000">320</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">sensorValue</font> <font color="#434f54">&lt;=</font> <font color="#000000">40000</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">{</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">setPixelColor</font><font color="#000000">(</font><font color="#000000">i</font><font color="#434f54">,</font> <font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">Color</font><font color="#000000">(</font><font color="#000000">0</font><font color="#434f54">,</font> <font color="#000000">150</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">pixels</font><font color="#434f54">.</font><font color="#d35400">show</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">else</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#00979c">LED_BUILTIN</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;&nbsp;&nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">100</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">}</font>
<font color="#000000">}</font>


</pre>
<BR>
To set up my circuit, I 
<BR>
When I uploaded my code to my arduino, it did not do what I had intended exactly, but I was happy with the result. I found that if you hold the copper down the LED lights will go through a cycle turing on and off. Also, if you press near the LEDs, they will turn on. I think part of the issue was the proximity of the LEDs and that there were not LEDs that were specifically attached to one copper section. That said, I think it turned out pretty cool. 
<BR>
<video width="955" height="541" controls>
	<source src="IMG_2177.MOV" type="video/mp4">
</video>
<BR>
<video width="955" height="541" controls>
	<source src="IMG_2179.TRIM.M.OV" type="video/mp4">
</video>
